"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t():(void 0).NumberFormat=t()}(0,(function(){return function(){function e(t,n){var r=this;_classCallCheck(this,e),this._formatter=new Intl.NumberFormat(t,n);var o=new Intl.NumberFormat(t);this._digits=new Array(10).fill().map((function(e,t){return o.format(t)}));var i="[".concat(this._digits.map(e._escapeRegExp).join(""),"]"),a=this._formatter.formatToParts(-10000000.1);this._minus=a.find((function(e){return"minusSign"===e.type})).value||"-",this._group=a.find((function(e){return"group"===e.type})).value||"",this._decimal=a.find((function(e){return"decimal"===e.type})).value||".",this._minusIndex=1,this._numberIndex=2;var u=!1,c=(this._group?"(?:".concat(i,"{1,3}").concat(e._escapeRegExp(this._group),")*").concat(i,"{1,3}"):"".concat(i,"+"))+"(?:".concat(e._escapeRegExp(this._decimal)).concat(i,"+)?"),s=a.reduce((function(t,n){return["literal","currency"].includes(n.type)?t+="(?:".concat(e._escapeRegExp(n.value),")?"):"minusSign"===n.type?(u&&(r._minusIndex=2,r._numberIndex=1),t+="(".concat(e._escapeRegExp(n.value),")?")):"integer"!==n.type||u||(u=!0,t+="(".concat(c,")")),t}),"");this._regExp=new RegExp(s)}return _createClass(e,[{key:"format",value:function(e){return this._formatter.format(e)}},{key:"formatToParts",value:function(e){return this._formatter.formatToParts(e)}},{key:"parse",value:function(e){var t=this,n=this._regExp.exec(e);if(!n)throw new Error("Invalid number string");return parseFloat("".concat(n[this._minusIndex]?"-":"").concat(n[this._numberIndex].replace(/./g,(function(e){return t._digits.includes(e)?t._digits.indexOf(e):e===t._decimal?".":""}))))}},{key:"resolvedOptions",value:function(){return this._formatter.resolvedOptions()}}],[{key:"supportedLocalesOf",value:function(e,t){return Intl.NumberFormat.supportedLocalesOf(e,t)}},{key:"_escapeRegExp",value:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}]),e}()}));