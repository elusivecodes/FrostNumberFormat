!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():t.NumberFormat=e()}(this,function(){"use strict";class t{constructor(e,r){this._formatter=new Intl.NumberFormat(e,r);const s=new Intl.NumberFormat(e);this._digits=new Array(10).fill().map((t,e)=>s.format(e));const i=`[${this._digits.map(t._regExEscape).join("")}]`,n=this._formatter.formatToParts(-10000000.1);this._minus=n.find(t=>"minusSign"===t.type).value||"-",this._group=n.find(t=>"group"===t.type).value||"",this._decimal=n.find(t=>"decimal"===t.type).value||".";let o="";this._group?o+=`(?:${i}{1,3}${t._regExEscape(this._group)})*${i}{1,3}`:o+=`${i}+`,o+=`(?:${t._regExEscape(this._decimal)}${i}+)?`;let a="",u=!1;this._minusIndex=1,this._numberIndex=2;for(const e of n)["literal","currency"].includes(e.type)?a+=`(?:${t._regExEscape(e.value)})?`:"minusSign"===e.type?(a+=`(${t._regExEscape(e.value)})?`,u&&(this._minusIndex=2,this._numberIndex=1)):"integer"!==e.type||u||(a+=`(${o})`,u=!0);this._regex=new RegExp(a)}format(t){return this._formatter.format(t)}formatToParts(t){return this._formatter.formatToParts(t)}parse(t){const e=this._regex.exec(t);if(!e)throw new Error("Invalid number string");return parseFloat(`${e[this._minusIndex]?"-":""}${e[this._numberIndex].replace(/./g,t=>this._digits.includes(t)?this._digits.indexOf(t):t===this._decimal?".":"")}`)}resolvedOptions(){return this._formatter.resolvedOptions()}static supportedLocalesOf(t,e){return Intl.NumberFormat.supportedLocalesOf(t,e)}static _regExEscape(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}return t});