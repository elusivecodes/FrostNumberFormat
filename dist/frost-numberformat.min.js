!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.NumberFormat=t()}(this,function(){"use strict";class e{constructor(t,r){this._formatter=new Intl.NumberFormat(t,r);const s=new Intl.NumberFormat(t);this._digits=new Array(10).fill().map((e,t)=>s.format(t));const i=`[${this._digits.map(e._regExEscape).join("|")}]`,n=this._formatter.formatToParts(-10000000.1);this._minus=n.find(e=>"minusSign"===e.type).value||"-",this._group=n.find(e=>"group"===e.type).value||"",this._decimal=n.find(e=>"decimal"===e.type).value||".";let o="";this._group?o+=`(?:${i}{1,3}${e._regExEscape(this._group)})*${i}{1,3}`:o+=`${i}+`,o+=`(?:${e._regExEscape(this._decimal)}${i}+)?`;let a="",u=!1;this._minusIndex=1,this._numberIndex=2,n.forEach(t=>{["literal","currency"].includes(t.type)?a+=`${e._regExEscape(t.value)}?`:"minusSign"===t.type?(a+=`(${e._regExEscape(t.value)}?)`,u&&(this._minusIndex=2,this._numberIndex=1)):"integer"!==t.type||u||(a+=`(${o})`,u=!0)}),this._regex=new RegExp(a)}format(e){return this._formatter.format(e)}formatToParts(e){return this._formatter.formatToParts(e)}parse(e){const t=this._regex.exec(e);if(!t)throw new Error("Invalid number string");return parseFloat(`${t[this._minusIndex]?"-":""}${t[this._numberIndex].replace(/./g,e=>this._digits.includes(e)?this._digits.indexOf(e):e===this._decimal?".":"")}`)}resolvedOptions(){return this._formatter.resolvedOptions()}static _regExEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}static supportedLocalesOf(e,t){return Intl.NumberFormat.supportedLocalesOf(e,t)}}return e});