!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.NumberFormat=t()}(this,(function(){"use strict";class e{constructor(t,s){this._formatter=new Intl.NumberFormat(t,s),this._strict=!1,this._minus="-",this._group="",this._decimal=".",this._minusIndex=1,this._numberIndex=2;const r=this._formatter.formatToParts(-10000000.1);for(const e of r)switch(e.type){case"minusSign":this._minus=e.value;break;case"group":this._group=e.value;break;case"decimal":this._decimal=e.value}const i=new Intl.NumberFormat(t);this._digits=new Array(10).fill().map((e,t)=>i.format(t));const a=`[${this._digits.map(e._escapeRegExp).join("")}]`,o=`${this._group?`(?:${a}{1,3}${e._escapeRegExp(this._group)})*${a}{1,3}`:`${a}+`}(?:${e._escapeRegExp(this._decimal)}${a}+)?`;let n=!1;const c=r.reduce((t,s)=>{switch(s.type){case"literal":case"currency":t+=`(?:${e._escapeRegExp(s.value)})`,this._strict||(t+="?");break;case"minusSign":t+=`(${e._escapeRegExp(s.value)})?`,n&&(this._minusIndex=2,this._numberIndex=1);break;case"integer":n||(n=!0,t+=`(${o})`)}return t},"");this._regExp=new RegExp(c)}format(e){return this._formatter.format(e)}formatToParts(e){return this._formatter.formatToParts(e)}parse(e){const t=this._regExp.exec(e);if(!t)throw new Error("Invalid number string");return parseFloat(`${t[this._minusIndex]?"-":""}${t[this._numberIndex].replace(/./g,e=>this._digits.includes(e)?this._digits.indexOf(e):e===this._decimal?".":"")}`)}resolvedOptions(){return this._formatter.resolvedOptions()}static supportedLocalesOf(e,t){return Intl.NumberFormat.supportedLocalesOf(e,t)}static _escapeRegExp(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}return e}));